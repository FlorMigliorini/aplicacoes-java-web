<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    
    <h:head>
        <title>Editar</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <h:form>

            <h:messages />

            <c:set var="auto" value="#{automovelBean.automovel}" />
            <c:set var="bean" value="#{automovelBean}" />

            <p:panelGrid columns="2">
                <f:facet name="header">  
                    Automovel
                </f:facet>
                <f:facet name="footer">  
                    Aplicacoes Java para web
                </f:facet>


                Marca: <h:selectOneMenu id="selectMarca" label="marca" value="#{automovelBean.marca}" required="true" converter="entityConverter">
                    <f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
                    <f:selectItems value="#{marcaBean.marcas}" var="marca" itemValue="#{marca}" itemLabel="#{marca.nome}" />
                    <f:ajax render="selectModelo" />
                </h:selectOneMenu>
                
                Modelo: <h:selectOneMenu id="selectModelo" label="modelo" value="#{automovelBean.automovel.modelo}" required="true" converter="entityConverter">
                    <f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
                    <f:selectItems value="#{automovelBean.marca.modelos}" var="modelo" itemValue="#{modelo}" itemLabel="#{modelo.descricao}" />
                </h:selectOneMenu>
                
                Ano de Fabricacao: <h:inputText value="#{auto.anoFabricacao}" />
                Ano do Modelo: <h:inputText value="#{auto.anoModelo}" />
                Preco: <h:inputText value="#{auto.preco}" />
                Kilometragem: <h:inputText value="#{auto.kilometragem}" />
                Observacao: <h:inputTextarea value="#{auto.observacoes}" />

            </p:panelGrid>

            <h:commandButton value="Salvar" action="#{controller.salvar(auto)}" />
        </h:form>

    </h:body>


</html>
